#:kivy 2.3.0
#: import Home pages.Home
#: import DirSelectDialog content.DirSelectDialog
#: import EditWorldsDialog content.EditWorldsDialog

#  include kv files
#: include pages/Home.kv
#: include content/DirSelectDialog.kv
#: include content/EditWorldsDialog.kv

<SatisfactoryAutomaticSynchronizeReloaded>:
    cols: 1
    rows: 2


    # ------------- BACKDROP -------------
    canvas.before:
        Color:
            # rgba: rgba(43, 62, 80) # from satisfactorytools.com
            rgba: rgba(63, 63, 63) # from ingame screenshot
        Rectangle:
            pos: self.pos
            size: self.size


    # ------------- HEADER -------------
    AnchorLayout:
        anchor_x: 'center'
        anchor_y: 'center'
        height: 130
        size_hint_y: None
        size_hint_x: 1

        canvas.before:
            Color:
                rgba: .15, .15, .15, .3
            Rectangle:
                pos: self.pos
                size: self.size

        BoxLayout:
            # [padding_left, padding_top, padding_right, padding_bottom], [padding_horizontal, padding_vertical] or [padding]
            padding: [15, 15]
            spacing: 0

            BoxLayout:
                size_hint_y: 1
                size_hint_x: None

                AnchorLayout:
                    anchor_x: 'center'
                    anchor_y: 'center'
                    Image:
                        size_hint_y: 1
                        size_hint_x: 1
                        source: 'res/images/icons8-zufriedenstellend-512.png'

            AnchorLayout:
                anchor_x: 'center'
                anchor_y: 'center'
                size_hint_y: 1
                size_hint_x: 0.75

                BoxLayout:
                    Label:
                        text: ''
                        size_hint_x: .5

                    BoxLayout:
                        #canvas:
                        #    Color:
                        #        rgba: 0, 1, 1, 0.2
                        #    Rectangle:
                        #        size: self.size
                        #        pos: self.pos

                        size: [430.0, 100]
                        # [padding_left, padding_top, padding_right, padding_bottom]
                        padding: [38, 7, 23, 4]
                        size_hint_x: None
                        orientation: 'vertical'

                        StackLayout:
                            orientation: 'lr-tb'
                            # [padding_left, padding_top, padding_right, padding_bottom]
                            padding: [0, 0, 0, 5]
                            Label:
                                size_hint_y: 1
                                size_hint_x: None
                                size: self.texture_size
                                outline_color: .1, .1, .1, 0
                                outline_width: 2
                                font_size: 28
                                line_height: 1.2
                                font_name: 'res/fonts/Satisfontory_v1.5.ttf'
                                text: 'Satisfactory'

                        BoxLayout:
                            # [padding_left, padding_top, padding_right, padding_bottom]
                            padding: [0, 1, 0, 0]

                            Label:
                                size_hint_x: None
                                outline_color: .1, .1, .1, 0
                                outline_width: 2
                                size: self.texture_size
                                halign: 'left'
                                valign: 'middle'
                                font_size: 28
                                line_height: 1.2
                                font_name: 'res/fonts/Satisfontory_v1.5.ttf'
                                text: 'Automatic'

                            Label:
                                text: ''
                                size_hint_x: .5

                            Label:

                                pos_hint: {'right': 1}
                                size_hint_x: None
                                outline_color: .1, .1, .1, 0
                                outline_width: 2
                                size: self.texture_size
                                halign: 'right'
                                valign: 'middle'
                                font_size: 28
                                line_height: 1.2
                                font_name: 'res/fonts/Satisfontory_v1.5.ttf'
                                text: 'Synchronize'

                        BoxLayout:
                            size_hint_y: .8

                            StackLayout:
                                spacing: 1
                                Label:
                                    text: 'Icons'
                                    outline_color: .1, .1, .1, 0
                                    outline_width: 2
                                    size_hint_x: None
                                    size: self.texture_size
                                    font_size: 10
                                    font_color: rgba(.4,.4,.4)
                                    halign: 'left'
                                    valign: 'middle'
                                    #text_size: self.width, None
                                    #size_hint_y: None
                                    font_name: 'res/fonts/Satisfontory_v1.5.ttf'

                                Label:
                                    text: 'by'
                                    outline_color: .1, .1, .1, 0
                                    outline_width: 2
                                    size_hint_x: None
                                    size: self.texture_size
                                    font_size: 10
                                    font_color: rgba(.4,.4,.4)
                                    halign: 'left'
                                    valign: 'middle'
                                    font_name: 'res/fonts/Satisfontory_v1.5.ttf'

                                HighlightLabel:
                                    text: '[ref=https://icons8.de][color=5151ff]Icons8[/color][/ref]'
                                    outline_color: .1, .1, .1, 0
                                    outline_width: 2
                                    size_hint_x: None
                                    size: self.texture_size
                                    font_size: 10
                                    halign: 'left'
                                    valign: 'middle'
                                    markup: True
                                    font_name: 'res/fonts/Satisfontory_v1.5.ttf'
                                    on_ref_press:
                                        import webbrowser
                                        webbrowser.open(args[1])

                            Label:
                                pos_hint: {'right': 1}
                                size_hint_x: None
                                outline_color: .1, .1, .1, 0
                                outline_width: 2
                                size: self.texture_size
                                halign: 'left'
                                valign: 'middle'
                                font_size: 16
                                line_height: 1.2
                                font_name: 'res/fonts/Satisfontory_v1.5.ttf'
                                text: 'Reloaded'

                    Label:
                        text: ''
                        size_hint_x: .5
